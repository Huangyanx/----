(function(){var S=navigator.userAgent;var ab=S.match(/Chrome/i)!=null&&S.match(/Version\/\d+\.\d+(\.\d+)?\sChrome\//i)==null?true:false;var ac=(S.match(/(Android);?[\s\/]+([\d.]+)?/))?true:false;var a=(S.match(/(iPad).*OS\s([\d_]+)/))?true:false;var U=(S.match(/(Mac\sOS)\sX\s([\d_]+)/))?true:false;var y=(!a&&S.match(/(iPhone\sOS)\s([\d_]+)/))?true:false;var g=(y||a)&&S.match(/Safari/);var C=S.match(/MQQBrowser\/([\d\.]+)/)?true:false;var u=S.match(/UCBrowser\/([\d\.]+)/)?true:false;var Z=0;g&&(Z=S.match(/Version\/([\d\.]+)/));try{Z=parseFloat(Z[1],10)}catch(ad){}var S=window.navigator.userAgent,W=false;var W=S.toUpperCase().indexOf("SAMSUNG-SM-N7508V")!=-1;var p=false;var z="plugIn_downloadAppPlugIn_loadIframe";var A=false;var o=0;var O={};var b={};var j=null;var Y={};var D=window.Zepto||window.jQuery?true:false;var m=[];var E=window.localStorage?true:false;var w="mdownloadAppPlugInskip";var x=null;var d=Math.floor(Math.random()*100)+1;var k=null;var c=false;var s=false;var L={closeUaAjax:false,keplerAjax:false};var K={url:"https://so.m.jd.com/downLoad/closeUa.action?_format_=json",method:"POST",async:false,timeout:1000,hasAjax:"closeUaAjax",error:function(){L.closeUaAjax=true},success:function(e){L.closeUaAjax=true;e=JSON.parse(e);J(e)}};var ae={url:"https://mapi.m.jd.com/keple/getKepleData.action?_format_=json",method:"POST",async:true,timeout:1000,withCredentials:true,hasAjax:"keplerAjax",error:function(){k='{"source":"m-base","otherData":{},"channel":"m-arouse"}';L.keplerAjax=true},success:function(e){var af=JSON.parse(e);if(af&&af.data){if(!af.data.source&&!af.data.channel){af.data.source="m-base";af.data.channel="m-arouse"}k=JSON.stringify(af.data)}else{k='{"source":"m-base","otherData":{},"channel":"m-arouse"}'}L.keplerAjax=true}};function r(){var af=new Date();var ag=af.getFullYear();var ah=af.getMonth()+1;var e=af.getDate();strDate=ag+"-"+ah+"-"+e;return strDate}function h(ag,af,e){if(D){j("#"+ag).bind(af,e)}else{j("#"+ag).addEventListener(af,e,!1)}}function M(e){var af=(e||"mGen")+(++o);return af}if(D){j=window.$;Y=window.$}else{j=function(e){if(typeof e=="object"){return e}return document.querySelector(e)};if(!window.$){window.$=Y=j}else{Y=window.$}}window.onblur=function(){for(var e=0;e<m.length;e++){clearTimeout(m[e])}};function i(ag){var af=document.cookie.indexOf(ag+"=");if(af==-1){return""}af=af+ag.length+1;var e=document.cookie.indexOf(";",af);if(e==-1){e=document.cookie.length}return document.cookie.substring(af,e)}function q(ag,ai,e,aj,ah){var ak=ag+"="+escape(ai);if(e!=""){var af=new Date();af.setTime(af.getTime()+e*24*3600*1000);ak+=";expires="+af.toGMTString()}if(aj!=""){ak+=";path="+aj}if(ah!=""){ak+=";domain="+ah}document.cookie=ak}function T(ag,aj){var ai=null;if(aj){ai={downAppURl:"//h5.m.jd.com/active/download/download.html?channel=jd-m",downAppIos:"https://itunes.apple.com/us/app/jing-dong-wang-gou-shou-dan/id414245413",downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850",downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:null,sourceType:"JSHOP_SOURCE_TYPE",sourceValue:"JSHOP_SOURCE_VALUE",M_sourceFrom:"mxz",NoJumpDownLoadPage:false,kepler_param:null,autoOpenAppEventId:"MDownLoadFloat_AppArouse",autoOpenAppEventParam:"",autoOpenIntervalTime:0,cookieFlag:null}}else{ai={downAppURl:"//h5.m.jd.com/active/download/download.html?channel=jd-m",downAppIos:"https://itunes.apple.com/us/app/jing-dong-wang-gou-shou-dan/id414245413",downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850",downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:null,openAppBtnId:"",closePanelBtnId:"",closePanelId:"",openAppCallback:null,openAppCallbackSource:null,closeCallblack:null,closeCallblackSource:null,cookieFlag:null,noRecord:false,sourceType:"JSHOP_SOURCE_TYPE",sourceValue:"JSHOP_SOURCE_VALUE",openAppEventId:"MDownLoadFloat_OpenNow",openAppEventParam:"",closePanelEventId:"MDownLoadFloat_Close",closePanelEventParam:"",appDownCloseIntervalTime:259200000,appDownOpenIntervalTime:2592000000,isnotWriteOpenAppCookie:false,M_sourceFrom:"mxz",NoJumpDownLoadPage:false,kepler_param:null}}if(ag){for(var ah in ag){if(ah&&ag[ah]){if(ah=="appDownCloseIntervalTime"||ah=="appDownOpenIntervalTime"){var al=/^(-     |\+)?\d+$/;if(al.test(ag[ah])&&ag[ah]>0){try{var af=parseInt(ag[ah],10);ai[ah]=af}catch(ak){}}}else{ai[ah]=ag[ah]}}}}return ai}function F(e){var ai=l(e);var af=null;if(a){af=e.downIpad}else{if(y){af=e.downAppIos}else{af=e.downAppURl}}if(ab){if(ac){var ah=ai;ai=I(ah);setTimeout(function(){window.location.href=ai},50)}}if((g&&Z>=9)||U||W){setTimeout(function(){var aj=document.createElement("a");aj.setAttribute("href",ai),aj.style.display="none",document.body.appendChild(aj);var ak=document.createEvent("HTMLEvents");ak.initEvent("click",!1,!1),aj.dispatchEvent(ak)},0)}else{document.querySelector("#"+z).src=ai}if(!e.NoJumpDownLoadPage){var ag=Date.now();setTimeout(function(){var aj=setTimeout(function(){G(ag,af)},1500);m.push(aj)},100)}}function G(ag,af){var e=Date.now();if(ag&&(e-ag)<(1500+200)){window.location.href=af}}function l(ah){var aq=[];var ak=ah.inteneUrlParams;var ao={category:"jump",des:"HomePage"};if(ah.sourceType&&ah.sourceValue){ao.sourceType=ah.sourceType;ao.sourceValue=ah.sourceValue;if(ak&&!ak.sourceType&&!ak.sourceValue){ak.sourceType=ah.sourceType;ak.sourceValue=ah.sourceValue}if(ah&&ah.M_sourceFrom){ao.M_sourceFrom=ah.M_sourceFrom;if(ak){ak.M_sourceFrom=ah.M_sourceFrom}}}if(ak){for(var ap in ak){if(ap&&ak[ap]){aq.push('"'+ap+'":"'+ak[ap]+'"')}}}else{for(var ap in ao){if(ap&&ao[ap]){aq.push('"'+ap+'":"'+ao[ap]+'"')}}}if(ah&&ah.kepler_param){keplerParam=ah.kepler_param}else{if(k){keplerParam=k}else{keplerParam='{"source":"m-base","otherData":{},"channel":"m-arouse"}'}}aq.push('"kepler_param":'+keplerParam);try{var al=MPing.EventSeries.getSeries();if(al){var ar=JSON.parse(al);ar.jdv=encodeURIComponent(i("__jdv"));ar.unpl=encodeURIComponent(i("unpl"));ar.mt_xid=encodeURIComponent(i("mt_xid"));ar.mt_subsite=encodeURIComponent(i("mt_subsite"))}var an={mt_subsite:encodeURIComponent(i("mt_subsite")),__jdv:encodeURIComponent(i("__jdv")),unpl:encodeURIComponent(i("unpl")),__jda:encodeURIComponent(i("__jda"))};al=JSON.stringify(ar);aq.push('"m_param":'+al);aq.push('"SE":'+JSON.stringify(an))}catch(am){aq.push('"m_param":null')}var ag="{"+aq.join(",")+"}";var aj=ah.inteneUrl.split("?");var af=null;if(aj.length==2){af=aj[0]+"?"+aj[1]+"&params="+ag}else{af=aj[0]+"?params="+ag}var ai={url:"//ccc-x.jd.com/dsp/op?openapp_url="+encodeURI(ag)+"&openapp_source_type=100",method:"POST",async:true,timeout:1000,error:function(){},success:function(e){}};H(ai);f("MDownLoadFloat_ArouseParam",keplerParam);return af}function I(e){return"intent://m.jd.com/#Intent;scheme="+e+";package=com.jingdong.app.mall;end"}function t(e){if(e.openAppBtnId&&document.querySelector("#"+e.openAppBtnId)){O[e.openAppBtnId]=e;V(e.openAppBtnId,e.openAppEventId,e.openAppEventParam);h(e.openAppBtnId,"click",function(){var aj=this.getAttribute("id");var af=O[aj];if(!A){var ah=document.createElement("iframe");ah.id=z;document.body.appendChild(ah);document.getElementById(z).style.display="none";document.getElementById(z).style.width="0px";document.getElementById(z).style.height="0px";A=true}if(af.openAppCallback){var ag=af.openAppCallbackSource?af.openAppCallbackSource:null;af.openAppCallback.call(ag)}var ai={ajaxPrame:ae,funcList:function(ak){if(!ak.isnotWriteOpenAppCookie){var al=ak.cookieFlag?"downloadAppPlugIn_downCloseDate_"+ak.cookieFlag:"downloadAppPlugIn_downCloseDate";q(al,Date.now()+"_"+ak.appDownOpenIntervalTime,60,"/",".m.jd.com");q(al,Date.now()+"_"+ak.appDownOpenIntervalTime,60,"/","m.jd.hk")}F(ak)},funcPrame:af};B(ai)})}}function R(e){if(e.closePanelBtnId&&e.closePanelId&&document.querySelector("#"+e.closePanelId)&&document.querySelector("#"+e.closePanelBtnId)){O[e.closePanelBtnId]=e;V(e.closePanelBtnId,e.closePanelEventId,e.closePanelEventParam);if(N(e)){document.querySelector("#"+e.closePanelId).style.display="none";if(e.closeCallblack){var af=e.closeCallblackSource?e.closeCallblackSource:null;e.closeCallblack.call(af)}return}else{document.querySelector("#"+e.closePanelId).style.display="block"}h(e.closePanelBtnId,"click",function(){var aj=this.getAttribute("id");var ag=O[aj];var ai=ag.cookieFlag?"downloadAppPlugIn_downCloseDate_"+ag.cookieFlag:"downloadAppPlugIn_downCloseDate";if(!ag.noRecord){q(ai,Date.now()+"_"+ag.appDownCloseIntervalTime,60,"/","m.jd.com");q(ai,Date.now()+"_"+ag.appDownCloseIntervalTime,60,"/","m.jd.hk")}document.querySelector("#"+ag.closePanelId).style.display="none";if(ag.closeCallblack){var ah=ag.closeCallblackSource?ag.closeCallblackSource:null;ag.closeCallblack.call(ah)}})}}function N(ag,am){var ah=false;var al=null;if(am){al=ag.cookieFlag?"autoOpenApp_downCloseDate_"+ag.cookieFlag:"autoOpenApp_downCloseDate";if(s){ah=true}}else{var af=S.indexOf("jdmsxh");var ai=S.indexOf("jdmsxh2");if(S.indexOf("Html5Plus")>=0||(af>=0&&af!=ai)||c){ah=true}al=ag.cookieFlag?"downloadAppPlugIn_downCloseDate_"+ag.cookieFlag:"downloadAppPlugIn_downCloseDate"}var aj=i(al);var ak=null;if(aj){ak=aj.split("_");if(ak.length==2){ak[0]=parseInt(ak[0],10);ak[1]=parseInt(ak[1],10)}else{ak=null}}var e=Date.now();if(ah||(!ag.noRecord&&ak&&ak.length==2&&(e-ak[0])<ak[1])){ah=true}if(!ah&&am&&ag.autoOpenIntervalTime&&ag.autoOpenIntervalTime!=0){q(al,Date.now()+"_"+ag.autoOpenIntervalTime,60,"/",".m.jd.com");q(al,Date.now()+"_"+ag.autoOpenIntervalTime,60,"/","m.jd.hk")}return ah}function H(ag){var af;try{af=new ActiveXObject("Msxml2.XMLHTTP")}catch(ai){try{af=new ActiveXObject("Microsoft.XMLHTTP")}catch(ai){af=new XMLHttpRequest()}}af.ajaxRunError=true;if(ag.withCredentials){try{af.withCredentials=true}catch(ai){}}try{af.open(ag.method,ag.url,ag.async);if(ag.timeout){var ah=ag.source?ag.source:null;setTimeout(function(){if(af.ajaxRunError){af.onreadystatechange=function(){};af.abort();ag.error.call(ah)}},ag.timeout)}af.onreadystatechange=function(){var aj=ag.source?ag.source:null;if(af.readyState==4){if(af.status==200){af.ajaxRunError=false;var e=af.responseText;ag.success.call(aj,e)}else{ag.error.call(aj)}}};af.send(null)}catch(ai){}}function V(ak,ah,af){try{var aj=document.getElementById(ak);var ag=aj.className;if(ag){ag=ag+" J_ping"}else{ag="J_ping"}aj.className=ag;aj.setAttribute("report-eventid",ah);if(af){aj.setAttribute("report-eventparam",af)}}catch(ai){}}function f(ah,af){try{var ai=new MPing.inputs.Click(ah);if(af){ai.event_param=af}var ag=new MPing();ag.send(ai)}catch(aj){}}function v(af,al,ar){var ag=al?al:1;var am=ar?true:false;if(!N(af)&&af.closePanelId){var at=document.getElementById(af.closePanelId);if(at){var ap=at.getBoundingClientRect();var aq=ap.height||ap.bottom-ap.top;var ak=Q(at,"opacity");var ao=Q(at,"display");if(ao&&aq&&ao!="none"&&aq==0){am=true}else{if(aq&&ak&&aq==50&&ak==0){am=true}}}else{am=true}if(ag<3&&am==false){ag++;setTimeout(function(){v(af,ag,am)},2000)}}if(am){try{var ai=new MPing.inputs.Click("MDownLoadFloat_FloatShield");var aj=new MPing();ai.event_param=af.openAppEventId;aj.send(ai);var ah={url:"//so.m.jd.com/downLoad/checkShield.action?_format_=json",method:"POST",async:true,timeout:1000,error:function(){},success:function(e){}};H(ah)}catch(an){}}}function Q(af,e){if(af.currentStyle){return af.currentStyle[e]}else{return document.defaultView.getComputedStyle(af,false)[e]}}function B(ai,ag){var ah=ag?N(ai.funcPrame,true):N(ai.funcPrame);var e=true;if(!ah&&ai&&Object.prototype.toString.apply(ai.ajaxPrame)==="[object Array]"&&ai.ajaxPrame.length>0){ai.ajaxPrameIsArray=true;for(var af=0;af<ai.ajaxPrame.length;af++){if(!L[ai.ajaxPrame[af].hasAjax]){e=false;H(ai.ajaxPrame[af])}}}else{if(!ah&&!L[ai.ajaxPrame.hasAjax]){e=false;H(ai.ajaxPrame)}}if(e){n(ai.funcList,ai.funcPrame)}else{aa(ai)}}function aa(ai,af){var ah=af?af:0;var e=true;if(ai.ajaxPrameIsArray){for(var ag=0;ag<ai.ajaxPrame.length;ag++){if(!L[ai.ajaxPrame[ag].hasAjax]){e=false;break}}}else{e=L[ai.ajaxPrame.hasAjax]}if(ai.funcList&&ai.funcList.length>0){if(e){n(ai.funcList,ai.funcPrame)}else{setTimeout(function(){ah++;if(ah<20){aa(ai,ah)}else{n(ai.funcList,ai.funcPrame)}},50)}}}function n(e,ag){if(e.length==1&&Object.prototype.toString.apply(e)==="[object Function]"){e(ag)}else{for(var af=0;af<e.length;af++){e[af](ag)}}}function J(ah){if(ah&&ah.ua){ah=JSON.parse(ah.ua);if(ah&&ah.clickCloseUa){var ai=ah.clickCloseUa.split("|");for(var ag=0;ag<ai.length;ag++){var af=ai[ag];if(af&&S.indexOf(af)>=0){c=true;break}}}if(ah&&ah.autoCloseBrowser){for(var ag=0;ag<ah.autoCloseBrowser.length;ag++){var e=ah.autoCloseBrowser[ag];if(e.browser&&e.abtest&&S.indexOf(e.browser)>=0){X(e.abtest);break}}}if(!s&&ah&&ah.autoCloseOs){for(var ag=0;ag<ah.autoCloseOs.length;ag++){var e=ah.autoCloseOs[ag];if(e.os=="IOS"&&e.abtest&&(a||y)){X(e.abtest);break}else{if(e.os=="Android"&&e.abtest&&ac){X(e.abtest);break}}}}if(!s&&ah&&ah.autoCloseOsAndBrowser){for(var ag=0;ag<ah.autoCloseOsAndBrowser.length;ag++){var e=ah.autoCloseOsAndBrowser[ag];if(e.os&&e.browser&&e.abtest&&e.os=="IOS"&&(a||y)&&S.indexOf(e.browser)>=0){X(e.abtest);break}if(e.os&&e.browser&&e.abtest&&e.os=="Android"&&ac&&S.indexOf(e.browser)>=0){X(e.abtest);break}}}}}function X(e){if(e&&d<=e){s=true}}function P(e){var af=T(e);t(af);var ag={ajaxPrame:K,funcList:[R,v],funcPrame:af};B(ag)}Y.downloadAppPlugIn=P;Y.downloadAppPlugInOpenApp=function(e){var af=T(e,true);f(af.autoOpenAppEventId,af.autoOpenAppEventParam);if(!A){var ag=document.createElement("iframe");ag.id=z;document.body.appendChild(ag);document.getElementById(z).style.display="none";document.getElementById(z).style.width="0px";document.getElementById(z).style.height="0px";A=true}var ah={ajaxPrame:[ae,K],funcList:function(ai){if(!N(ai,true)){F(ai)}},funcPrame:af};B(ah,true)}})();